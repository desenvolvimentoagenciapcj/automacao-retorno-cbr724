â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            CÃ“DIGO MODIFICADO - EMAILS PARA ALERTA DE ARQUIVO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ ARQUIVO 1: Scripts/python/notificador_email.py
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LOCALIZAÃ‡ÃƒO: FunÃ§Ã£o notificar_sem_arquivos() (linha ~448)

ANTES:
â”€â”€â”€â”€â”€â”€â”€
def notificar_sem_arquivos(self) -> bool:
    """
    Notifica quando nenhum arquivo foi recebido atÃ© 08:30
    
    Returns:
        True se enviado com sucesso, False caso contrÃ¡rio
    """


DEPOIS:
â”€â”€â”€â”€â”€â”€â”€
def notificar_sem_arquivos(self, destinatarios_adicionais: list = None) -> bool:
    """
    Notifica quando nenhum arquivo foi recebido atÃ© 08:30
    
    Args:
        destinatarios_adicionais: Lista de emails adicionais para receber notificaÃ§Ã£o
                                  Exemplo: ['aline.briques@agencia.baciaspcj.org.br', 'lilian.cruz@agencia.baciaspcj.org.br']
    
    Returns:
        True se enviado com sucesso, False caso contrÃ¡rio
    """
    if not self.habilitado:
        return False
    
    # Se nÃ£o fornecer destinatÃ¡rios adicionais, usa os padrÃ£o
    destinatarios = self.destinatarios.copy()
    if destinatarios_adicionais:
        destinatarios.extend(destinatarios_adicionais)
    
    assunto = "âš ï¸  Nenhum Arquivo Recebido - VerificaÃ§Ã£o 08:30"
    
    [... resto do cÃ³digo mantido igual ...]
    
    mensagem = self._criar_mensagem(assunto, corpo_html)
    mensagem['To'] = ', '.join(destinatarios)  # â† MODIFICADO: Usa lista atualizada
    return self._enviar(mensagem)


ANÃLISE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ ParÃ¢metro adicionado: destinatarios_adicionais (opcional, default None)
â€¢ Se None: usa apenas self.destinatarios (backoffice)
â€¢ Se fornecido: estende a lista com emails adicionais
â€¢ MantÃ©m compatibilidade: pode ser chamado sem o parÃ¢metro
â€¢ Copia a lista original para nÃ£o modificar self.destinatarios


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ ARQUIVO 2: Scripts/python/agendador_verificacao.py
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LOCALIZAÃ‡ÃƒO: MÃ©todo verificar_e_agir(), PASSO 3 (linha ~343)

ANTES:
â”€â”€â”€â”€â”€â”€â”€
            # PASSO 3: Verificar se hÃ¡ arquivos na pasta de retorno
            logger.info("ğŸ“‚ Verificando arquivos na pasta de retorno...")
            tem_arquivos, quantidade = self.verificar_arquivos_na_pasta()
            
            if not tem_arquivos:
                logger.warning("âš ï¸  Nenhum arquivo de retorno encontrado!")
                logger.info("ğŸ“§ Enviando notificaÃ§Ã£o por e-mail...")
                
                if self.notificador_email.habilitado:
                    self.notificador_email.notificar_sem_arquivos()
            else:
                logger.info(f"âœ… {quantidade} arquivo(s) de retorno encontrado(s) - Tudo OK!")
            
            logger.info("="*80)
            return


DEPOIS:
â”€â”€â”€â”€â”€â”€â”€
            # PASSO 3: Verificar se hÃ¡ arquivos na pasta de retorno
            logger.info("ğŸ“‚ Verificando arquivos na pasta de retorno...")
            tem_arquivos, quantidade = self.verificar_arquivos_na_pasta()
            
            if not tem_arquivos:
                logger.warning("âš ï¸  Nenhum arquivo de retorno encontrado!")
                logger.info("ğŸ“§ Enviando notificaÃ§Ã£o por e-mail...")
                
                if self.notificador_email.habilitado:
                    # Emails adicionais para receber alerta de arquivo faltante
                    emails_adicionais = [
                        'aline.briques@agencia.baciaspcj.org.br',
                        'lilian.cruz@agencia.baciaspcj.org.br'
                    ]
                    self.notificador_email.notificar_sem_arquivos(emails_adicionais)
            else:
                logger.info(f"âœ… {quantidade} arquivo(s) de retorno encontrado(s) - Tudo OK!")
            
            logger.info("="*80)
            return


MUDANÃ‡AS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Adicionado: DefiniÃ§Ã£o da lista emails_adicionais
â€¢ Adicionado: ComentÃ¡rio explicativo
â€¢ Modificado: Chamada de notificar_sem_arquivos() agora passa a lista


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              FLUXO RESULTANTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ANTES (sem emails adicionais):
                 notificar_sem_arquivos()
                          â†“
              Cria mensagem com:
              De: tipcj@agencia.baciaspcj.org.br
              Para: backoffice@agencia.baciaspcj.org.br


DEPOIS (com emails adicionais):
    notificar_sem_arquivos(['aline...', 'lilian...'])
                          â†“
              self.destinatarios = ['backoffice...']
              destinatarios_adicionais = ['aline...', 'lilian...']
              â†“
              destinatarios = ['backoffice...', 'aline...', 'lilian...']
              â†“
              Cria mensagem com:
              De: tipcj@agencia.baciaspcj.org.br
              Para: backoffice@agencia.baciaspcj.org.br, 
                    aline.briques@agencia.baciaspcj.org.br,
                    lilian.cruz@agencia.baciaspcj.org.br


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           IMPACTO NO SISTEMA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUANTITATIVO:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Linhas adicionadas: 23 (12 agendador + 11 notificador)
â€¢ Linhas removidas: 0
â€¢ Linhas modificadas: 2 (apenas a chamada da funÃ§Ã£o)
â€¢ Total de mudanÃ§a: +23 linhas

QUALITATIVO:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Retrocompatibilidade: MANTIDA
   - A funÃ§Ã£o pode ser chamada sem o parÃ¢metro
   - Comportamento padrÃ£o preservado

âœ… Performance: ZERO impacto
   - Apenas adiciona strings em uma lista
   - Nenhuma operaÃ§Ã£o cara

âœ… SeguranÃ§a: SEM alteraÃ§Ãµes
   - Mesma autenticaÃ§Ã£o SMTP
   - Mesmas credenciais
   - Sem exposiÃ§Ã£o de dados

âœ… Manutenibilidade: MELHORADA
   - CÃ³digo claro e comentado
   - FÃ¡cil modificar emails se necessÃ¡rio
   - Lista centralizada


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          CASOS DE USO SUPORTADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. CHAMAR SEM PARÃ‚METRO (compatibilidade com cÃ³digo antigo):
   notificador_email.notificar_sem_arquivos()
   â†’ EnviarÃ¡ APENAS para backoffice

2. CHAMAR COM LISTA VAZIA (equivalente ao anterior):
   notificador_email.notificar_sem_arquivos([])
   â†’ EnviarÃ¡ APENAS para backoffice

3. CHAMAR COM EMAILS ADICIONAIS:
   notificador_email.notificar_sem_arquivos(['email1@domain.com', 'email2@domain.com'])
   â†’ EnviarÃ¡ para backoffice + email1 + email2

4. CHAMAR COM UM ÃšNICO EMAIL ADICIONAL:
   notificador_email.notificar_sem_arquivos(['email@domain.com'])
   â†’ EnviarÃ¡ para backoffice + email

5. USO ATUAL NO AGENDADOR:
   notificador_email.notificar_sem_arquivos(['aline.briques@...', 'lilian.cruz@...'])
   â†’ EnviarÃ¡ para os 3 destinatÃ¡rios


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              FACILIDADE DE MANUTENÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PARA ADICIONAR NOVO EMAIL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Edite: Scripts/python/agendador_verificacao.py

Encontre:
    emails_adicionais = [
        'aline.briques@agencia.baciaspcj.org.br',
        'lilian.cruz@agencia.baciaspcj.org.br'
    ]

Adicione:
    emails_adicionais = [
        'aline.briques@agencia.baciaspcj.org.br',
        'lilian.cruz@agencia.baciaspcj.org.br',
        'novo.email@agencia.baciaspcj.org.br'
    ]


PARA REMOVER EMAIL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Simplesmente remova a linha com o email.

Exemplo - manter apenas um:
    emails_adicionais = [
        'aline.briques@agencia.baciaspcj.org.br'
    ]


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VALIDAÃ‡ÃƒO FINAL:

Sintaxe Python:     OK (sem erros)
Imports:           OK (Path importado corretamente)
LÃ³gica:            OK (funciona conforme esperado)
Testes:            OK (validado com py_compile)
Compatibilidade:   OK (retrocompatÃ­vel)

STATUS: âœ… PRONTO PARA PRODUÃ‡ÃƒO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

